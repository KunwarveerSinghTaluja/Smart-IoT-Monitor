<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT Dashboard v1.0.0 | Professional Monitoring</title>

    <!-- Fonts & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom Styles -->
    <style>
        :root {
            --primary: #00d4ff;
            --primary-dark: #0099cc;
            --secondary: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark-bg: #0f172a;
            --card-bg: #1e293b;
            --border-color: #334155;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark-bg);
            color: #e2e8f0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--card-bg);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .animate-fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        .animate-slide-in {
            animation: slideIn 0.3s ease-out;
        }

        .animate-pulse {
            animation: pulse 2s infinite;
        }

        /* Glass Effect */
        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Card Hover Effects */
        .card-hover {
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .card-hover:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.1);
        }

        /* Status Indicators */
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
        }

        .status-online { background-color: var(--success); }
        .status-offline { background-color: var(--danger); }
        .status-warning { background-color: var(--warning); }

        /* Chart Containers */
        .chart-container {
            background: linear-gradient(145deg, var(--card-bg), #1a2236);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        .chart-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        /* MQTT Message Animation */
        .mqtt-message {
            animation: fadeIn 0.3s ease-out;
            transition: all 0.3s ease;
        }

        .mqtt-message:hover {
            background: rgba(0, 212, 255, 0.05);
            transform: translateX(4px);
        }

        /* Loading Skeleton */
        .skeleton {
            background: linear-gradient(90deg,
                var(--card-bg) 25%,
                rgba(255, 255, 255, 0.05) 50%,
                var(--card-bg) 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Notification Badge */
        .notification-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            width: 18px;
            height: 18px;
            background: var(--danger);
            border-radius: 50%;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
    </style>

    <!-- Tailwind Configuration -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: 'var(--primary)',
                        'primary-dark': 'var(--primary-dark)',
                        secondary: 'var(--secondary)',
                        success: 'var(--success)',
                        warning: 'var(--warning)',
                        danger: 'var(--danger)',
                        'dark-bg': 'var(--dark-bg)',
                        'card-bg': 'var(--card-bg)',
                        'border-color': 'var(--border-color)',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'slide-in': 'slideIn 0.3s ease-out',
                        'pulse-slow': 'pulse 2s infinite',
                        'bounce-slow': 'bounce 3s infinite',
                    },
                    backdropBlur: {
                        xs: '2px',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-dark-bg">
<!-- Loading Screen -->
<div id="loadingScreen" class="fixed inset-0 bg-dark-bg flex flex-col items-center justify-center z-50">
    <div class="relative">
        <div class="w-20 h-20 rounded-full border-4 border-transparent border-t-primary border-r-secondary animate-spin"></div>
        <div class="absolute inset-0 flex items-center justify-center">
            <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center">
                <span class="material-icons-round text-primary text-2xl">memory</span>
            </div>
        </div>
    </div>
    <div class="mt-6 text-center">
        <h2 class="text-xl font-semibold text-white mb-2">IoT Dashboard v1.0.0</h2>
        <p class="text-gray-400">Initializing monitoring system...</p>
        <div class="mt-4 w-64 h-1 bg-gray-700 rounded-full overflow-hidden">
            <div id="loadingBar" class="h-full bg-gradient-to-r from-primary to-secondary" style="width: 0%"></div>
        </div>
    </div>
</div>

<!-- Main Dashboard Container -->
<div id="dashboard" class="hidden min-h-screen">
    <!-- Sidebar -->
    <aside class="fixed left-0 top-0 h-screen w-64 bg-card-bg border-r border-border-color z-40 flex flex-col">
        <!-- Logo -->
        <div class="p-6 border-b border-border-color">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-primary to-secondary flex items-center justify-center">
                    <span class="material-icons-round text-white">dashboard</span>
                </div>
                <div>
                    <h1 class="text-lg font-bold text-white">IoT Monitor</h1>
                    <span class="text-xs text-primary font-medium">v1.0.0</span>
                </div>
            </div>
        </div>

        <!-- Search -->
        <div class="p-4 border-b border-border-color">
            <div class="relative">
                <input type="text"
                       placeholder="Search devices, metrics..."
                       class="w-full bg-gray-800/50 border border-border-color rounded-lg pl-10 pr-4 py-2.5 text-sm focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary/30">
                <span class="material-icons-round absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg">search</span>
            </div>
        </div>

        <!-- Navigation -->
        <nav class="flex-1 p-4 overflow-y-auto">
            <div class="space-y-1">
                <h3 class="text-xs uppercase tracking-wider text-gray-400 font-semibold mb-3 px-2">Main</h3>

                <a href="#" class="nav-item active">
                    <span class="material-icons-round">dashboard</span>
                    <span>Overview</span>
                </a>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">devices</span>
                    <span>Devices</span>
                    <span class="ml-auto px-2 py-0.5 text-xs rounded-full bg-primary/20 text-primary">12</span>
                </a>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">monitor_heart</span>
                    <span>Live Metrics</span>
                </a>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">notifications</span>
                    <span>Alerts</span>
                    <span class="ml-auto px-2 py-0.5 text-xs rounded-full bg-danger/20 text-danger">3</span>
                </a>
            </div>

            <div class="mt-8 space-y-1">
                <h3 class="text-xs uppercase tracking-wider text-gray-400 font-semibold mb-3 px-2">Monitoring</h3>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">satellite</span>
                    <span>MQTT Monitor</span>
                </a>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">analytics</span>
                    <span>Analytics</span>
                </a>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">list_alt</span>
                    <span>System Logs</span>
                </a>
            </div>

            <div class="mt-8 space-y-1">
                <h3 class="text-xs uppercase tracking-wider text-gray-400 font-semibold mb-3 px-2">System</h3>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">settings</span>
                    <span>Settings</span>
                </a>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">people</span>
                    <span>Users</span>
                </a>

                <a href="#" class="nav-item">
                    <span class="material-icons-round">help</span>
                    <span>Help</span>
                </a>
            </div>
        </nav>

        <!-- MQTT Status -->
        <div class="p-4 border-t border-border-color">
            <div class="flex items-center space-x-3 p-3 rounded-lg bg-gradient-to-r from-primary/10 to-secondary/10 border border-primary/20">
                <div class="relative">
                    <div class="w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center">
                        <span class="material-icons-round text-primary text-sm">wifi</span>
                    </div>
                    <div class="absolute -top-0.5 -right-0.5 w-3 h-3 bg-success rounded-full border-2 border-card-bg animate-pulse-slow"></div>
                </div>
                <div class="flex-1">
                    <p class="text-xs font-medium text-white">MQTT Connected</p>
                    <p class="text-xs text-gray-400">58 messages</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="ml-64">
        <!-- Header -->
        <header class="sticky top-0 z-30 glass border-b border-border-color">
            <div class="px-8 py-4 flex items-center justify-between">
                <!-- Left Section -->
                <div>
                    <h2 class="text-xl font-bold text-white">Dashboard Overview</h2>
                    <p class="text-sm text-gray-400">Real-time monitoring of connected IoT devices</p>
                </div>

                <!-- Right Section -->
                <div class="flex items-center space-x-6">
                    <!-- Time -->
                    <div class="flex items-center space-x-2">
                        <span class="material-icons-round text-primary">schedule</span>
                        <div>
                            <div id="currentTime" class="text-sm font-semibold text-white">14:48:03</div>
                            <div id="currentDate" class="text-xs text-gray-400">Tue, Feb 3 2026</div>
                        </div>
                    </div>

                    <!-- Add Device Button -->
                    <button class="btn-primary">
                        <span class="material-icons-round">add</span>
                        Add Device
                    </button>

                    <!-- Notifications -->
                    <div class="relative">
                        <button class="btn-icon">
                            <span class="material-icons-round">notifications</span>
                            <div class="notification-badge">3</div>
                        </button>
                    </div>

                    <!-- User Profile -->
                    <div class="flex items-center space-x-3">
                        <div class="w-9 h-9 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center">
                            <span class="text-white font-semibold">A</span>
                        </div>
                        <div>
                            <div class="text-sm font-medium text-white">Admin</div>
                            <div class="text-xs text-gray-400">System Administrator</div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- KPI Cards -->
        <div class="p-6">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8">
                <!-- Total Devices -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-icon bg-primary/10">
                            <span class="material-icons-round text-primary">devices_other</span>
                        </div>
                        <span class="material-icons-round text-gray-400">more_vert</span>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-value">12</div>
                        <div class="kpi-label">Total Devices</div>
                    </div>
                    <div class="kpi-trend positive">
                        <span class="material-icons-round">trending_up</span>
                        <span>+2 this week</span>
                    </div>
                </div>

                <!-- Online Devices -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-icon bg-success/10">
                            <span class="material-icons-round text-success">wifi</span>
                        </div>
                        <span class="material-icons-round text-gray-400">more_vert</span>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-value">6</div>
                        <div class="kpi-label">Online</div>
                    </div>
                    <div class="kpi-trend positive">
                        <span class="material-icons-round">trending_up</span>
                        <span>92% uptime</span>
                    </div>
                </div>

                <!-- Offline Devices -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-icon bg-danger/10">
                            <span class="material-icons-round text-danger">wifi_off</span>
                        </div>
                        <span class="material-icons-round text-gray-400">more_vert</span>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-value">3</div>
                        <div class="kpi-label">Offline</div>
                    </div>
                    <div class="kpi-trend negative">
                        <span class="material-icons-round">trending_down</span>
                        <span>Needs attention</span>
                    </div>
                </div>

                <!-- Warnings -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-icon bg-warning/10">
                            <span class="material-icons-round text-warning">warning</span>
                        </div>
                        <span class="material-icons-round text-gray-400">more_vert</span>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-value">3</div>
                        <div class="kpi-label">Warnings</div>
                    </div>
                    <div class="kpi-trend">
                        <span class="material-icons-round">info</span>
                        <span>Check alerts</span>
                    </div>
                </div>

                <!-- Active Alerts -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-icon bg-danger/10">
                            <span class="material-icons-round text-danger">notification_important</span>
                        </div>
                        <span class="material-icons-round text-gray-400">more_vert</span>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-value">2</div>
                        <div class="kpi-label">Active Alerts</div>
                    </div>
                    <div class="kpi-trend negative">
                        <span class="material-icons-round">priority_high</span>
                        <span>Immediate action</span>
                    </div>
                </div>

                <!-- Messages/sec -->
                <div class="kpi-card">
                    <div class="kpi-header">
                        <div class="kpi-icon bg-secondary/10">
                            <span class="material-icons-round text-secondary">speed</span>
                        </div>
                        <span class="material-icons-round text-gray-400">more_vert</span>
                    </div>
                    <div class="kpi-content">
                        <div class="kpi-value">3.2</div>
                        <div class="kpi-label">Messages/sec</div>
                    </div>
                    <div class="kpi-trend positive">
                        <span class="material-icons-round">trending_up</span>
                        <span>Steady flow</span>
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                <!-- Temperature Chart -->
                <div class="chart-container">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h3 class="text-lg font-semibold text-white">Average Temperature</h3>
                            <p class="text-sm text-gray-400">Last 24 hours monitoring</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="time-btn active">24H</button>
                            <button class="time-btn">7D</button>
                            <button class="time-btn">30D</button>
                        </div>
                    </div>
                    <div class="h-64">
                        <canvas id="temperatureChart"></canvas>
                    </div>
                    <div class="mt-4 flex items-center justify-between text-sm">
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center">
                                <div class="w-3 h-3 rounded-full bg-primary mr-2"></div>
                                <span class="text-gray-400">Current: 34°C</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-3 h-3 rounded-full bg-secondary mr-2"></div>
                                <span class="text-gray-400">Avg: 31°C</span>
                            </div>
                        </div>
                        <div class="text-primary font-medium">
                            <span class="material-icons-round text-sm align-middle">trending_up</span>
                            <span>+2.5% from yesterday</span>
                        </div>
                    </div>
                </div>

                <!-- Humidity Chart -->
                <div class="chart-container">
                    <div class="flex items-center justify-between mb-6">
                        <div>
                            <h3 class="text-lg font-semibold text-white">Average Humidity</h3>
                            <p class="text-sm text-gray-400">Real-time humidity levels</p>
                        </div>
                        <div class="flex space-x-2">
                            <button class="time-btn active">24H</button>
                            <button class="time-btn">7D</button>
                            <button class="time-btn">30D</button>
                        </div>
                    </div>
                    <div class="h-64">
                        <canvas id="humidityChart"></canvas>
                    </div>
                    <div class="mt-4 flex items-center justify-between text-sm">
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center">
                                <div class="w-3 h-3 rounded-full bg-success mr-2"></div>
                                <span class="text-gray-400">Current: 82%</span>
                            </div>
                            <div class="flex items-center">
                                <div class="w-3 h-3 rounded-full bg-warning mr-2"></div>
                                <span class="text-gray-400">Target: 70%</span>
                            </div>
                        </div>
                        <div class="text-danger font-medium">
                            <span class="material-icons-round text-sm align-middle">trending_down</span>
                            <span>-1.2% from yesterday</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Device Readings & MQTT Monitor -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Device Readings -->
                <div class="lg:col-span-2">
                    <div class="chart-container h-full">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <h3 class="text-lg font-semibold text-white">Device Readings</h3>
                                <p class="text-sm text-gray-400">Latest sensor measurements</p>
                            </div>
                            <button class="text-sm text-primary font-medium hover:underline">
                                View All Devices →
                            </button>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                            <!-- Temperature 1 -->
                            <div class="reading-card">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="text-sm font-medium text-gray-300">Living Room Temp</div>
                                    <span class="material-icons-round text-danger text-lg">thermostat</span>
                                </div>
                                <div class="text-3xl font-bold text-white mb-2">31°C</div>
                                <div class="flex items-center text-sm">
                                    <span class="status-dot status-online"></span>
                                    <span class="text-gray-400">Online • Updated 2m ago</span>
                                </div>
                            </div>

                            <!-- Temperature 2 -->
                            <div class="reading-card">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="text-sm font-medium text-gray-300">Kitchen Temp</div>
                                    <span class="material-icons-round text-danger text-lg">thermostat</span>
                                </div>
                                <div class="text-3xl font-bold text-white mb-2">29°C</div>
                                <div class="flex items-center text-sm">
                                    <span class="status-dot status-online"></span>
                                    <span class="text-gray-400">Online • Updated 5m ago</span>
                                </div>
                            </div>

                            <!-- Humidity 1 -->
                            <div class="reading-card">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="text-sm font-medium text-gray-300">Bedroom Humidity</div>
                                    <span class="material-icons-round text-primary text-lg">water_drop</span>
                                </div>
                                <div class="text-3xl font-bold text-white mb-2">73%</div>
                                <div class="flex items-center text-sm">
                                    <span class="status-dot status-online"></span>
                                    <span class="text-gray-400">Online • Updated 1m ago</span>
                                </div>
                            </div>

                            <!-- Humidity 2 -->
                            <div class="reading-card">
                                <div class="flex items-center justify-between mb-4">
                                    <div class="text-sm font-medium text-gray-300">Garage Humidity</div>
                                    <span class="material-icons-round text-primary text-lg">water_drop</span>
                                </div>
                                <div class="text-3xl font-bold text-white mb-2">67%</div>
                                <div class="flex items-center text-sm">
                                    <span class="status-dot status-warning"></span>
                                    <span class="text-gray-400">Warning • High humidity</span>
                                </div>
                            </div>
                        </div>

                        <!-- Device Status Table -->
                        <div class="mt-6">
                            <h4 class="text-sm font-semibold text-white mb-3">Device Status</h4>
                            <div class="overflow-hidden rounded-lg border border-border-color">
                                <table class="min-w-full divide-y divide-border-color">
                                    <thead class="bg-gray-800/50">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Device</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Type</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Status</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider">Last Update</th>
                                    </tr>
                                    </thead>
                                    <tbody class="divide-y divide-border-color" id="deviceStatusTable">
                                    <!-- Filled by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MQTT Monitor -->
                <div>
                    <div class="chart-container h-full">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <h3 class="text-lg font-semibold text-white">MQTT Monitor</h3>
                                <p class="text-sm text-gray-400">Real-time message stream</p>
                            </div>
                            <div class="flex items-center space-x-2">
                                <div class="w-2 h-2 rounded-full bg-success animate-pulse-slow"></div>
                                <span class="text-xs text-success font-medium">Connected</span>
                            </div>
                        </div>

                        <!-- Message Stats -->
                        <div class="grid grid-cols-2 gap-3 mb-6">
                            <div class="stat-box">
                                <div class="stat-value">58</div>
                                <div class="stat-label">Total Messages</div>
                            </div>
                            <div class="stat-box">
                                <div class="stat-value">3.2/s</div>
                                <div class="stat-label">Rate</div>
                            </div>
                        </div>

                        <!-- Message Stream -->
                        <div class="mb-4">
                            <div class="flex items-center justify-between mb-3">
                                <h4 class="text-sm font-semibold text-white">Live Stream</h4>
                                <button id="clearMessages" class="text-xs text-gray-400 hover:text-white">
                                    Clear All
                                </button>
                            </div>
                            <div class="mqtt-stream" id="mqttStream">
                                <!-- Messages will appear here -->
                            </div>
                        </div>

                        <!-- Publish Control -->
                        <div class="mt-6 p-4 bg-gray-800/30 rounded-lg border border-border-color">
                            <h4 class="text-sm font-semibold text-white mb-3">Simulate Message</h4>
                            <div class="space-y-3">
                                <select id="mqttTopic" class="w-full bg-gray-800 border border-border-color rounded px-3 py-2 text-sm focus:outline-none focus:border-primary">
                                    <option value="iot/sensor/temperature">iot/sensor/temperature</option>
                                    <option value="iot/sensor/humidity">iot/sensor/humidity</option>
                                    <option value="iot/device/status">iot/device/status</option>
                                    <option value="iot/alerts/warning">iot/alerts/warning</option>
                                </select>
                                <textarea id="mqttPayload" class="w-full bg-gray-800 border border-border-color rounded px-3 py-2 text-sm focus:outline-none focus:border-primary" rows="2" placeholder='{"temperature": 25.5, "humidity": 65}'></textarea>
                                <button id="publishMessage" class="btn-primary w-full">
                                    <span class="material-icons-round text-sm">send</span>
                                    Publish Message
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="mt-8 pt-6 border-t border-border-color">
                <div class="flex flex-col md:flex-row justify-between items-center">
                    <div class="text-sm text-gray-400">
                        © 2026 IoT Dashboard v1.0.0 • Professional IoT Monitoring System
                    </div>
                    <div class="flex items-center space-x-4 mt-4 md:mt-0">
                        <span class="text-sm text-gray-400">Backend Status:</span>
                        <div class="flex items-center">
                            <div class="w-2 h-2 rounded-full bg-success mr-2 animate-pulse-slow"></div>
                            <span class="text-sm text-success font-medium">Spring Boot Connected</span>
                        </div>
                        <span class="text-gray-400">|</span>
                        <a href="#" class="text-sm text-primary hover:underline">API Documentation</a>
                    </div>
                </div>
            </footer>
        </div>
    </main>
</div>

<!-- JavaScript -->
<script>
    // Wait for DOM to load
    document.addEventListener('DOMContentLoaded', function() {
        // Simulate loading
        simulateLoading();

        // Initialize dashboard
        initializeDashboard();

        // Start real-time updates
        startRealTimeUpdates();
    });

    function simulateLoading() {
        let progress = 0;
        const loadingBar = document.getElementById('loadingBar');
        const interval = setInterval(() => {
            progress += 2;
            loadingBar.style.width = progress + '%';

            if (progress >= 100) {
                clearInterval(interval);
                setTimeout(() => {
                    document.getElementById('loadingScreen').style.display = 'none';
                    document.getElementById('dashboard').classList.remove('hidden');
                    document.getElementById('dashboard').classList.add('animate-fade-in');
                }, 300);
            }
        }, 30);
    }

    function initializeDashboard() {
        // Update time
        updateTime();
        setInterval(updateTime, 1000);

        // Initialize charts
        initCharts();

        // Initialize device table
        initDeviceTable();

        // Initialize MQTT stream
        initMQTTStream();

        // Setup event listeners
        setupEventListeners();
    }

    function updateTime() {
        const now = new Date();
        const timeStr = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', second:'2-digit'});
        const dateStr = now.toLocaleDateString('en-US', {weekday: 'short', month: 'short', day: 'numeric', year: 'numeric'});

        document.getElementById('currentTime').textContent = timeStr;
        document.getElementById('currentDate').textContent = dateStr;
    }

    function initCharts() {
        // Temperature Chart
        const tempCtx = document.getElementById('temperatureChart').getContext('2d');
        window.temperatureChart = new Chart(tempCtx, {
            type: 'line',
            data: {
                labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '23:59'],
                datasets: [{
                    label: 'Temperature (°C)',
                    data: [28, 30, 32, 34, 33, 31, 29],
                    borderColor: '#00d4ff',
                    backgroundColor: 'rgba(0, 212, 255, 0.1)',
                    borderWidth: 2,
                    tension: 0.4,
                    fill: true,
                    pointBackgroundColor: '#00d4ff',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 2,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'rgba(30, 41, 59, 0.9)',
                        titleColor: '#e2e8f0',
                        bodyColor: '#e2e8f0',
                        borderColor: '#334155',
                        borderWidth: 1
                    }
                },
                scales: {
                    x: {
                        grid: {
                            color: 'rgba(255, 255, 255, 0.05)',
                            borderColor: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            color: '#94a3b8'
                        }
                    },
                    y: {
                        beginAtZero: false,
                        min: 25,
                        max: 40,
                        grid: {
                            color: 'rgba(255, 255, 255, 0.05)',
                            borderColor: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            color: '#94a3b8',
                            callback: function(value) {
                                return value + '°C';
                            }
                        }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'nearest'
                }
            }
        });

        // Humidity Chart
        const humidityCtx = document.getElementById('humidityChart').getContext('2d');
        window.humidityChart = new Chart(humidityCtx, {
            type: 'line',
            data: {
                labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '23:59'],
                datasets: [{
                    label: 'Humidity (%)',
                    data: [75, 78, 80, 82, 81, 79, 77],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    borderWidth: 2,
                    tension: 0.4,
                    fill: true,
                    pointBackgroundColor: '#10b981',
                    pointBorderColor: '#ffffff',
                    pointBorderWidth: 2,
                    pointRadius: 4,
                    pointHoverRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'rgba(30, 41, 59, 0.9)',
                        titleColor: '#e2e8f0',
                        bodyColor: '#e2e8f0',
                        borderColor: '#334155',
                        borderWidth: 1
                    }
                },
                scales: {
                    x: {
                        grid: {
                            color: 'rgba(255, 255, 255, 0.05)',
                            borderColor: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            color: '#94a3b8'
                        }
                    },
                    y: {
                        beginAtZero: false,
                        min: 60,
                        max: 90,
                        grid: {
                            color: 'rgba(255, 255, 255, 0.05)',
                            borderColor: 'rgba(255, 255, 255, 0.1)'
                        },
                        ticks: {
                            color: '#94a3b8',
                            callback: function(value) {
                                return value + '%';
                            }
                        }
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'nearest'
                }
            }
        });
    }

    function initDeviceTable() {
        const devices = [
            { name: 'Temperature Sensor 1', type: 'Temperature', status: 'online', lastUpdate: '2 minutes ago' },
            { name: 'Humidity Sensor 1', type: 'Humidity', status: 'online', lastUpdate: '1 minute ago' },
            { name: 'Motion Detector', type: 'Motion', status: 'offline', lastUpdate: '5 hours ago' },
            { name: 'Smart Light 1', type: 'Light', status: 'online', lastUpdate: '30 seconds ago' },
            { name: 'Power Monitor', type: 'Energy', status: 'warning', lastUpdate: '10 minutes ago' },
            { name: 'Door Sensor', type: 'Security', status: 'online', lastUpdate: 'Just now' }
        ];

        const tableBody = document.getElementById('deviceStatusTable');
        devices.forEach(device => {
            const row = document.createElement('tr');
            row.className = 'hover:bg-gray-800/30 transition-colors';

            let statusColor = 'text-success';
            let statusDot = 'status-online';
            if (device.status === 'offline') {
                statusColor = 'text-danger';
                statusDot = 'status-offline';
            } else if (device.status === 'warning') {
                statusColor = 'text-warning';
                statusDot = 'status-warning';
            }

            row.innerHTML = `
                <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm font-medium text-white">${device.name}</div>
                </td>
                <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm text-gray-400">${device.type}</div>
                </td>
                <td class="px-4 py-3 whitespace-nowrap">
                    <div class="flex items-center">
                        <span class="${statusDot}"></span>
                        <span class="text-sm ${statusColor} font-medium">${device.status.charAt(0).toUpperCase() + device.status.slice(1)}</span>
                    </div>
                </td>
                <td class="px-4 py-3 whitespace-nowrap">
                    <div class="text-sm text-gray-400">${device.lastUpdate}</div>
                </td>
            `;
            tableBody.appendChild(row);
        });
    }

    function initMQTTStream() {
        // Add initial messages
        addMQTTMessage('iot/sensor/temperature', '{"device": "temp_sensor_1", "value": 31.5, "unit": "°C"}');
        addMQTTMessage('iot/sensor/humidity', '{"device": "humidity_1", "value": 73, "unit": "%"}');
        addMQTTMessage('iot/device/status', '{"device": "motion_1", "status": "online", "battery": 85}');
        addMQTTMessage('iot/alerts/warning', '{"device": "garage_humidity", "alert": "High humidity detected", "value": 82}');
        addMQTTMessage('iot/sensor/temperature', '{"device": "kitchen_temp", "value": 29.2, "unit": "°C"}');

        // Setup clear button
        document.getElementById('clearMessages').addEventListener('click', () => {
            document.getElementById('mqttStream').innerHTML = '';
        });

        // Setup publish button
        document.getElementById('publishMessage').addEventListener('click', () => {
            const topic = document.getElementById('mqttTopic').value;
            let payload = document.getElementById('mqttPayload').value;

            if (!payload.trim()) {
                // Generate random payload based on topic
                if (topic.includes('temperature')) {
                    payload = `{"device": "simulated_temp", "value": ${(Math.random() * 10 + 25).toFixed(1)}, "unit": "°C"}`;
                } else if (topic.includes('humidity')) {
                    payload = `{"device": "simulated_humidity", "value": ${Math.floor(Math.random() * 20 + 60)}, "unit": "%"}`;
                } else {
                    payload = `{"device": "simulated_${Date.now()}", "status": "active", "timestamp": "${new Date().toISOString()}"}`;
                }
            }

            addMQTTMessage(topic, payload);
            document.getElementById('mqttPayload').value = '';
        });
    }

    function addMQTTMessage(topic, payload) {
        const stream = document.getElementById('mqttStream');
        const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit', second:'2-digit'});
        const messageId = Date.now();

        const messageDiv = document.createElement('div');
        messageDiv.className = 'mqtt-message p-3 border-b border-border-color last:border-b-0 hover:bg-gray-800/20';
        messageDiv.innerHTML = `
            <div class="flex justify-between items-start mb-1">
                <span class="text-xs font-mono text-primary font-medium truncate">${topic}</span>
                <span class="text-xs text-gray-400 whitespace-nowrap ml-2">${time}</span>
            </div>
            <pre class="text-xs text-gray-300 font-mono overflow-x-auto bg-gray-900/30 p-2 rounded">${payload}</pre>
        `;

        stream.insertBefore(messageDiv, stream.firstChild);

        // Keep only 10 messages
        if (stream.children.length > 10) {
            stream.removeChild(stream.lastChild);
        }

        // Update message count
        const messageCount = stream.children.length;
        document.querySelector('.messages-count').textContent = `${messageCount} messages`;

        // Animate new message
        messageDiv.style.animation = 'fadeIn 0.3s ease-out';
    }

    function setupEventListeners() {
        // Navigation items
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                this.classList.add('active');

                // Add ripple effect
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;

                ripple.style.cssText = `
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(0, 212, 255, 0.3);
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    width: ${size}px;
                    height: ${size}px;
                    top: ${y}px;
                    left: ${x}px;
                    pointer-events: none;
                `;

                this.appendChild(ripple);
                setTimeout(() => ripple.remove(), 600);
            });
        });

        // Time range buttons
        document.querySelectorAll('.time-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.time-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Add device button
        document.querySelector('.btn-primary').addEventListener('click', () => {
            showNotification('Add Device', 'Device management panel would open here', 'info');
        });

        // Notification button
        document.querySelector('.btn-icon').addEventListener('click', () => {
            showNotification('Notifications', 'You have 3 unread notifications', 'warning');
        });
    }

    function startRealTimeUpdates() {
        // Update charts every 10 seconds
        setInterval(() => {
            // Add random data point to temperature chart
            const tempData = window.temperatureChart.data.datasets[0].data;
            tempData.shift();
            tempData.push(28 + Math.random() * 8);
            window.temperatureChart.update('none');

            // Add random data point to humidity chart
            const humidityData = window.humidityChart.data.datasets[0].data;
            humidityData.shift();
            humidityData.push(70 + Math.random() * 15);
            window.humidityChart.update('none');

            // Update device readings
            updateDeviceReadings();

            // Add random MQTT message occasionally
            if (Math.random() > 0.7) {
                const topics = [
                    'iot/sensor/temperature',
                    'iot/sensor/humidity',
                    'iot/device/status',
                    'iot/alerts/warning'
                ];
                const topic = topics[Math.floor(Math.random() * topics.length)];
                const payload = generateRandomPayload(topic);
                addMQTTMessage(topic, payload);
            }
        }, 10000);
    }

    function updateDeviceReadings() {
        // Randomly update one of the reading cards
        const cards = document.querySelectorAll('.reading-card');
        const randomCard = cards[Math.floor(Math.random() * cards.length)];
        const valueElement = randomCard.querySelector('.text-3xl');

        if (valueElement.textContent.includes('°C')) {
            const newTemp = 28 + Math.random() * 6;
            valueElement.textContent = newTemp.toFixed(1) + '°C';
            randomCard.querySelector('.text-gray-400').textContent = 'Online • Updated just now';
        } else if (valueElement.textContent.includes('%')) {
            const newHumidity = 65 + Math.random() * 15;
            valueElement.textContent = Math.round(newHumidity) + '%';
            randomCard.querySelector('.text-gray-400').textContent = 'Online • Updated just now';
        }
    }

    function generateRandomPayload(topic) {
        const now = new Date().toISOString();
        if (topic.includes('temperature')) {
            return `{"device": "auto_sensor_${Math.floor(Math.random() * 100)}", "value": ${(Math.random() * 10 + 25).toFixed(1)}, "unit": "°C", "timestamp": "${now}"}`;
        } else if (topic.includes('humidity')) {
            return `{"device": "auto_humidity_${Math.floor(Math.random() * 100)}", "value": ${Math.floor(Math.random() * 20 + 60)}, "unit": "%", "timestamp": "${now}"}`;
        } else if (topic.includes('status')) {
            return `{"device": "device_${Math.floor(Math.random() * 100)}", "status": "online", "battery": ${Math.floor(Math.random() * 50 + 50)}, "timestamp": "${now}"}`;
        } else {
            return `{"device": "alert_system", "alert": "Random event detected", "severity": "low", "timestamp": "${now}"}`;
        }
    }

    function showNotification(title, message, type = 'info') {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `fixed top-4 right-4 z-50 max-w-sm animate-slide-in`;

        let bgColor = 'bg-primary/90';
        let icon = 'info';

        if (type === 'warning') {
            bgColor = 'bg-warning/90';
            icon = 'warning';
        } else if (type === 'success') {
            bgColor = 'bg-success/90';
            icon = 'check_circle';
        } else if (type === 'danger') {
            bgColor = 'bg-danger/90';
            icon = 'error';
        }

        notification.innerHTML = `
            <div class="${bgColor} text-white rounded-lg shadow-lg p-4 flex items-start space-x-3">
                <span class="material-icons-round flex-shrink-0">${icon}</span>
                <div class="flex-1">
                    <div class="font-semibold">${title}</div>
                    <div class="text-sm opacity-90 mt-1">${message}</div>
                </div>
                <button onclick="this.parentElement.parentElement.remove()" class="text-white/70 hover:text-white">
                    <span class="material-icons-round text-sm">close</span>
                </button>
            </div>
        `;

        document.body.appendChild(notification);

        // Auto-remove after 5 seconds
        setTimeout(() => {
            if (notification.parentElement) {
                notification.remove();
            }
        }, 5000);
    }

    // Add CSS for ripple effect
    const style = document.createElement('style');
    style.textContent = `
        @keyframes ripple {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        .nav-item {
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            color: #94a3b8;
            text-decoration: none;
            transition: all 0.2s;
            margin-bottom: 0.25rem;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.05);
            color: #e2e8f0;
        }

        .nav-item.active {
            background: rgba(0, 212, 255, 0.1);
            color: #00d4ff;
            border-left: 3px solid #00d4ff;
        }

        .nav-item .material-icons-round {
            margin-right: 0.75rem;
            font-size: 1.25rem;
        }

        .kpi-card {
            background: linear-gradient(145deg, var(--card-bg), #1a2236);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            transition: all 0.3s;
        }

        .kpi-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.1);
        }

        .kpi-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .kpi-icon {
            width: 3rem;
            height: 3rem;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .kpi-value {
            font-size: 2.25rem;
            font-weight: 700;
            color: white;
            line-height: 1;
        }

        .kpi-label {
            font-size: 0.875rem;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 0.25rem;
        }

        .kpi-trend {
            display: flex;
            align-items: center;
            margin-top: 0.75rem;
            font-size: 0.75rem;
            color: #10b981;
        }

        .kpi-trend.negative {
            color: #ef4444;
        }

        .kpi-trend .material-icons-round {
            font-size: 1rem;
            margin-right: 0.25rem;
        }

        .time-btn {
            padding: 0.375rem 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            background: transparent;
            color: #94a3b8;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .time-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            color: #e2e8f0;
        }

        .time-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .reading-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.25rem;
            transition: all 0.3s;
        }

        .reading-card:hover {
            border-color: var(--primary);
            background: rgba(0, 212, 255, 0.05);
        }

        .btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.625rem 1.25rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 0.75rem;
            font-weight: 500;
            font-size: 0.875rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            gap: 0.5rem;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 212, 255, 0.3);
        }

        .btn-icon {
            position: relative;
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            color: #94a3b8;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-icon:hover {
            background: rgba(0, 212, 255, 0.1);
            color: var(--primary);
            border-color: var(--primary);
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 0.25rem;
        }

        .mqtt-stream {
            height: 200px;
            overflow-y: auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: rgba(0, 0, 0, 0.2);
        }
    `;
    document.head.appendChild(style);
</script>
</body>
</html>